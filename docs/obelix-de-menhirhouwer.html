<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Hoofdstuk 3 Obelix de menhirhouwer | VR Experience (ML-agents)</title>
  <meta name="description" content="AI-augemnted virtual realitity course at the AP University College." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Hoofdstuk 3 Obelix de menhirhouwer | VR Experience (ML-agents)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="AI-augemnted virtual realitity course at the AP University College." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hoofdstuk 3 Obelix de menhirhouwer | VR Experience (ML-agents)" />
  
  <meta name="twitter:description" content="AI-augemnted virtual realitity course at the AP University College." />
  

<meta name="author" content="34145/1928/2021/1/56 David D’Haese" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="beginselen-ml-agents.html"/>
<link rel="next" href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="css\course.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>ML-Agents</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#language"><i class="fa fa-check"></i>Language</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html"><i class="fa fa-check"></i><b>1</b> Inleiding tot het onderdeel ML-Agents</a><ul>
<li class="chapter" data-level="1.1" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html#in-een-notedop"><i class="fa fa-check"></i><b>1.1</b> In een notedop</a></li>
<li class="chapter" data-level="1.2" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html#leerdoelen"><i class="fa fa-check"></i><b>1.2</b> Leerdoelen</a></li>
<li class="chapter" data-level="1.3" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html#cursus-vorm"><i class="fa fa-check"></i><b>1.3</b> Cursus vorm</a></li>
<li class="chapter" data-level="1.4" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html#licentie-voor-deze-cursus"><i class="fa fa-check"></i><b>1.4</b> Licentie voor deze cursus</a></li>
<li class="chapter" data-level="1.5" data-path="inleiding-tot-het-onderdeel-ml-agents.html"><a href="inleiding-tot-het-onderdeel-ml-agents.html#verwijzen-naar-deze-cursus"><i class="fa fa-check"></i><b>1.5</b> Verwijzen naar deze cursus</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html"><i class="fa fa-check"></i><b>2</b> Beginselen ML-Agents</a><ul>
<li class="chapter" data-level="2.1" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html#vereiste-voorkennis-en-voorinstallatie"><i class="fa fa-check"></i><b>2.1</b> Vereiste voorkennis en voorinstallatie</a></li>
<li class="chapter" data-level="2.2" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html#installatie"><i class="fa fa-check"></i><b>2.2</b> Installatie</a></li>
<li class="chapter" data-level="2.3" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html#ml-agents-toolkit"><i class="fa fa-check"></i><b>2.3</b> ML-Agents Toolkit</a></li>
<li class="chapter" data-level="2.4" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html#machine-learning-in-een-notedop"><i class="fa fa-check"></i><b>2.4</b> Machine learning in een notedop</a></li>
<li class="chapter" data-level="2.5" data-path="beginselen-ml-agents.html"><a href="beginselen-ml-agents.html#interactie-tussen-het-nn-en-de-unity-omgeving"><i class="fa fa-check"></i><b>2.5</b> Interactie tussen het NN en de Unity omgeving</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html"><i class="fa fa-check"></i><b>3</b> Obelix de menhirhouwer</a><ul>
<li class="chapter" data-level="3.1" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#inleiding-tot-de-usecase"><i class="fa fa-check"></i><b>3.1</b> Inleiding tot de usecase</a></li>
<li class="chapter" data-level="3.2" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#het-spelverloop"><i class="fa fa-check"></i><b>3.2</b> Het spelverloop</a></li>
<li class="chapter" data-level="3.3" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#observaties-acties-en-beloning"><i class="fa fa-check"></i><b>3.3</b> Observaties, acties en beloning</a></li>
<li class="chapter" data-level="3.4" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#het-speelveld"><i class="fa fa-check"></i><b>3.4</b> Het speelveld</a></li>
<li class="chapter" data-level="3.5" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#spelomgeving"><i class="fa fa-check"></i><b>3.5</b> Spelomgeving</a><ul>
<li class="chapter" data-level="3.5.1" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#speelveld-object"><i class="fa fa-check"></i><b>3.5.1</b> Speelveld object</a></li>
<li class="chapter" data-level="3.5.2" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#obelix-spelobject"><i class="fa fa-check"></i><b>3.5.2</b> Obelix spelobject</a></li>
<li class="chapter" data-level="3.5.3" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#de-menhir-en-de-bestemming"><i class="fa fa-check"></i><b>3.5.3</b> De menhir en de bestemming</a></li>
<li class="chapter" data-level="3.5.4" data-path="obelix-de-menhirhouwer.html"><a href="obelix-de-menhirhouwer.html#scorebord"><i class="fa fa-check"></i><b>3.5.4</b> Scorebord</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><i class="fa fa-check"></i><b>4</b> Gedragingen van de agent en de andere spelobjecten</a><ul>
<li class="chapter" data-level="4.1" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#environment.cs"><i class="fa fa-check"></i><b>4.1</b> Environment.cs</a><ul>
<li class="chapter" data-level="4.1.1" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#overzicht-methoden-op-environment"><i class="fa fa-check"></i><b>4.1.1</b> Overzicht methoden op Environment</a></li>
<li class="chapter" data-level="4.1.2" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#object-variabelen-op-environment"><i class="fa fa-check"></i><b>4.1.2</b> Object-variabelen op Environment</a></li>
<li class="chapter" data-level="4.1.3" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#initializatie-van-environment-instantie"><i class="fa fa-check"></i><b>4.1.3</b> Initializatie van Environment instantie</a></li>
<li class="chapter" data-level="4.1.4" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#opkuisen-speelveld"><i class="fa fa-check"></i><b>4.1.4</b> Opkuisen speelveld</a></li>
<li class="chapter" data-level="4.1.5" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#score"><i class="fa fa-check"></i><b>4.1.5</b> Score</a></li>
<li class="chapter" data-level="4.1.6" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#willekeurige-positie"><i class="fa fa-check"></i><b>4.1.6</b> Willekeurige positie</a></li>
<li class="chapter" data-level="4.1.7" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#genereren-van-een-stonehenge"><i class="fa fa-check"></i><b>4.1.7</b> Genereren van een Stonehenge</a></li>
<li class="chapter" data-level="4.1.8" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#dynamisch-genereren-van-menhirs"><i class="fa fa-check"></i><b>4.1.8</b> Dynamisch genereren van menhirs</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#destination.cs"><i class="fa fa-check"></i><b>4.2</b> Destination.cs</a></li>
<li class="chapter" data-level="4.3" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#obelix.cs"><i class="fa fa-check"></i><b>4.3</b> Obelix.cs</a><ul>
<li class="chapter" data-level="4.3.1" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#overzicht-methoden"><i class="fa fa-check"></i><b>4.3.1</b> Overzicht methoden</a></li>
<li class="chapter" data-level="4.3.2" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#objectvariabelen"><i class="fa fa-check"></i><b>4.3.2</b> Objectvariabelen</a></li>
<li class="chapter" data-level="4.3.3" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#initialize"><i class="fa fa-check"></i><b>4.3.3</b> Initialize</a></li>
<li class="chapter" data-level="4.3.4" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#onepisodebegin"><i class="fa fa-check"></i><b>4.3.4</b> OnEpisodeBegin</a></li>
<li class="chapter" data-level="4.3.5" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#collectobservations"><i class="fa fa-check"></i><b>4.3.5</b> CollectObservations</a></li>
<li class="chapter" data-level="4.3.6" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#heuristic"><i class="fa fa-check"></i><b>4.3.6</b> Heuristic</a></li>
<li class="chapter" data-level="4.3.7" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#onactionreceived"><i class="fa fa-check"></i><b>4.3.7</b> OnActionReceived</a></li>
<li class="chapter" data-level="4.3.8" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#oncollisionenter"><i class="fa fa-check"></i><b>4.3.8</b> OnCollisionEnter</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="gedragingen-van-de-agent-en-de-andere-spelobjecten.html"><a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html#menhir.cs"><i class="fa fa-check"></i><b>4.4</b> Menhir.cs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="testen-van-de-spellogica.html"><a href="testen-van-de-spellogica.html"><i class="fa fa-check"></i><b>5</b> Testen van de spellogica</a></li>
<li class="chapter" data-level="6" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html"><i class="fa fa-check"></i><b>6</b> Trainen van het NN</a><ul>
<li class="chapter" data-level="6.1" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#configuratie-van-het-nn"><i class="fa fa-check"></i><b>6.1</b> Configuratie van het NN</a><ul>
<li class="chapter" data-level="6.1.1" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#trainer-type"><i class="fa fa-check"></i><b>6.1.1</b> Trainer-type</a></li>
<li class="chapter" data-level="6.1.2" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#hyperparameters"><i class="fa fa-check"></i><b>6.1.2</b> Hyperparameters</a></li>
<li class="chapter" data-level="6.1.3" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#architectuur-van-het-nn"><i class="fa fa-check"></i><b>6.1.3</b> Architectuur van het NN</a></li>
<li class="chapter" data-level="6.1.4" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#beloningsysteem"><i class="fa fa-check"></i><b>6.1.4</b> Beloningsysteem</a></li>
<li class="chapter" data-level="6.1.5" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#extra-informatie-rond-configuratie"><i class="fa fa-check"></i><b>6.1.5</b> Extra informatie rond configuratie</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#start-de-training"><i class="fa fa-check"></i><b>6.2</b> Start de training</a></li>
<li class="chapter" data-level="6.3" data-path="trainen-van-het-nn.html"><a href="trainen-van-het-nn.html#paralleliseren"><i class="fa fa-check"></i><b>6.3</b> Paralleliseren</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="testen-van-een-nn.html"><a href="testen-van-een-nn.html"><i class="fa fa-check"></i><b>7</b> Testen van een NN</a><ul>
<li class="chapter" data-level="7.1" data-path="testen-van-een-nn.html"><a href="testen-van-een-nn.html#het-nn-bestand"><i class="fa fa-check"></i><b>7.1</b> Het nn-bestand</a></li>
<li class="chapter" data-level="7.2" data-path="testen-van-een-nn.html"><a href="testen-van-een-nn.html#tensorboard"><i class="fa fa-check"></i><b>7.2</b> Tensorboard</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="zelf-een-eigen-intelligente-agent-creëren.html"><a href="zelf-een-eigen-intelligente-agent-creëren.html"><i class="fa fa-check"></i><b>8</b> Zelf een eigen intelligente agent creëren</a></li>
<li class="chapter" data-level="" data-path="bronvermelding.html"><a href="bronvermelding.html"><i class="fa fa-check"></i>Bronvermelding</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">VR Experience (ML-agents)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="obelix-de-menhirhouwer" class="section level1">
<h1><span class="header-section-number">Hoofdstuk 3</span> Obelix de menhirhouwer</h1>
<div id="inleiding-tot-de-usecase" class="section level2">
<h2><span class="header-section-number">3.1</span> Inleiding tot de usecase</h2>
<p>Vele mensen kennen de verhalen van Asterix en Obelix. Hierin speelt Obelix de rol van een menhirhouwer met bovennatuurlijke krachten. Spijtig genoeg is hij nogal naïef en doet hij wel eens domme dingen. Laten we daar verandering in brengen door Obelix een brein te geven!</p>
<div class="figure"><span id="fig:obelix"></span>
<img src="img/Obelix.png" alt="Kunnen we Obelix de menhirhouwer een tikkeltje slimmer maken? bron afbeelding van Obelix." width="874" />
<p class="caption">
Figuur 3.1: Kunnen we Obelix de menhirhouwer een tikkeltje slimmer maken? <small><a href="https://asterix.fandom.com/fr/wiki/Ob%C3%A9lix">bron afbeelding van Obelix</a></small>.
</p>
</div>

</div>
<div id="het-spelverloop" class="section level2">
<h2><span class="header-section-number">3.2</span> Het spelverloop</h2>
<p>Het spelverloop wordt hieronder schematisch voorgesteld. Obelix is het hoofdpersonage en moet op zoek naar vrije menhirs. Aangekomen bij een menhir moet hij deze op zijn rug nemen en op zoek gaan naar een bestemming.</p>
<div class="figure"><span id="fig:spelverloop"></span>
<img src="img/spelverloop.png" alt="Het spelverloop hier uitgebeeld voor een enkele vrije, stilstaande menhir." width="804" />
<p class="caption">
Figuur 3.2: Het spelverloop hier uitgebeeld voor een enkele vrije, stilstaande menhir.
</p>
</div>

</div>
<div id="observaties-acties-en-beloning" class="section level2">
<h2><span class="header-section-number">3.3</span> Observaties, acties en beloning</h2>
<p>Er zijn drie zaken waarover je bij een conditionering altijd eerst rustig moet nadenken alvorens als een gek te beginnen ontwikkelen of ontwerpen: <em>observaties</em>, <em>acties</em> en <em>beloning</em>.</p>

<div class="definition">
<span id="def:obervaties" class="definition"><strong>Stelling 3.1  (Observaties)  </strong></span>Observaties die de agent maakt op basis van de omgeving vormen de invoer voor het leeralgoritme.
</div>

<p>In het geval van Obelix zijn de observaties diegene die hij maakt door rond te ‘kijken’. We gaan zien dat ML-Agents ons hierbij helpt door componenten aan te bieden voor visuele perceptie.</p>

<div class="definition">
<span id="def:acties" class="definition"><strong>Stelling 3.2  (Acties)  </strong></span>Acties bepalen de bewegingsvrijheid van een agent of, algemener gesteld, de impact die een agent heeft op zijn omgeving.
</div>

<p>Zolang de agent niet veranderd in geen enkel van zijn eigenschappen (positie, snelheid, kleur, tags,…) dan kan het leeralgoritme daar niets mee, want wat het ook voorstelt als te ondernemen actie, er gebeurt toch niets. Voor Obelix is het al duidelijk geworden dat hij moet kunnen rondkijken om ervoor te zorgen dat er een menhir of bestemming in het gezichtsveld treedt. Verder moet hij kunnen ‘rondlopen’ zodat hij een menhir of bestemming kan benaderen. Als we er van uitgaan dat het opnemen van de menhir en daarna het lossen van de menhir op een bestemming volautomatisch gebeurt (i.e. hij moet er gewoon maar mee botsen) dan zijn er geen verdere acties die Obelix moeten kunnen ondernemen. De details van het roteren en het rondlopen bespreken we later.</p>

<div class="definition">
<span id="def:beloning" class="definition"><strong>Stelling 3.3  (Beloning)  </strong></span>Het beloningsmechanisme (eng: <em>rewards</em>, <em>incentives</em>) vertelt het leeralgoritme of de voorgestelde actie de agent dichter bij het einddoel van de leeroefening brengt of niet.
</div>

<p>Figuur <a href="obelix-de-menhirhouwer.html#fig:obelix-beloning">3.3</a> geeft een overzicht van het beloningssysteem voor de Obelix simulatie. Het einddoel is het plaatsen van de menhir op een bestemming en dus daar krijgt het leeralgoritme de grootste score voor. Voor het naderen van een menhir of een bestemming krijgt de agent enkel een (matige) beloning indien het zich in de juiste staat bevindt. Bijvoorbeeld, als Obelix al een steen op zijn rug draagt, krijgt hij geen extra punten om een andere menhir te benaderen, want twee menhirs op de rug is misschien toch wat veel van het goede (in deze versie, natuurlijk kan je dit aanpassen).</p>
<div class="figure"><span id="fig:obelix-beloning"></span>
<img src="img/obelix-beloning.svg" alt="Het beloningssysteem voor de Obelix-simulatie."  />
<p class="caption">
Figuur 3.3: Het beloningssysteem voor de Obelix-simulatie.
</p>
</div>

</div>
<div id="het-speelveld" class="section level2">
<h2><span class="header-section-number">3.4</span> Het speelveld</h2>
<p>Laten we beginnen met alle componenten te bouwen om de simulatie te bouwen. Merk op dat het verstandig is om eerst de ML logica in te bouwen alvorens je de spelobjecten tot in het detail uitwerkt. Dat is ook wat we hier gaan doen.</p>
<div class="figure"><span id="fig:speelveld"></span>
<img src="img/Speelveld.png" alt="Het speelveld met 5 spelobjecten." width="695" />
<p class="caption">
Figuur 3.4: Het speelveld met 5 spelobjecten.
</p>
</div>

</div>
<div id="spelomgeving" class="section level2">
<h2><span class="header-section-number">3.5</span> Spelomgeving</h2>
<div id="speelveld-object" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Speelveld object</h3>
<p>Het speelveld krijgt de naam <code>Henge</code> en is een eenvoudig vlak met schaal X = Y = Z = 2 en posities en rotatie op X = Y = Z = 0 en met een <em>Mesh Collider</em>. Dit en alle andere objecten zitten vervat in een container object <code>Environment</code> zodat het geheel later eenvoudig gedupliceerd kan worden.</p>
<div class="figure"><span id="fig:objecten"></span>
<img src="img/objecten.png" alt="De volledige hiërarchie binnen de spelobjecten met hun namen zoals ze in deze handleiding gebruikt zullen worden. Merk op dat de Menhir en Destination objecten als prefab zullen worden gedefinieerd zodat men hier meerdere instanties van kan genereren (eng: to spawn) tijdens de initialisatie van de simulatie." width="129" />
<p class="caption">
Figuur 3.5: De volledige hiërarchie binnen de spelobjecten met hun namen zoals ze in deze handleiding gebruikt zullen worden. Merk op dat de <code>Menhir</code> en <code>Destination</code> objecten als prefab zullen worden gedefinieerd zodat men hier meerdere instanties van kan genereren (eng: <em>to spawn</em>) tijdens de initialisatie van de simulatie.
</p>
</div>

</div>
<div id="obelix-spelobject" class="section level3">
<h3><span class="header-section-number">3.5.2</span> Obelix spelobject</h3>
<div class="figure"><span id="fig:obelix-object"></span>
<img src="img/obelix-object.png" alt="Obelix spelobject. Zie tekst voor de eigenschappen van dit object." width="246" />
<p class="caption">
Figuur 3.6: Obelix spelobject. Zie tekst voor de eigenschappen van dit object.
</p>
</div>

<p>Dit is het enige composiet spelobject met het cilindrisch lichaam <code>Obelix</code>, een rechteroog (<code>RightEye</code>), een linkeroog (<code>LeftEye</code>) en een neus (<code>Nose</code>). Het lichaam zelf is een capsule met schaal 1 in alle richtingen. Het bevat een passende <em>Capsule collider</em> en een <em>Rigid body</em> component met de rotatie-vrijheid beperkt tot enkel de y-as (dus <em>freeze rotation</em> X en Z aangevinkt). De ogen en de neus worden als dochter-componenten van het lichaam aangemaakt en bestaan uit bollen, respectievelijk een capsule, telkens met hun gepaste en aansluitende collider. Zorg dat het composiet object voldoende boven de grond is (y = 1.5) zodat hij netjes op het speelveld valt.</p>
<p>De acties die Obelix gaat doen zijn gebaseerd op observaties. Zorg er dan ook voor dat beide ogen van Obelix kunnen ‘zien’ door aan beide ogen een <em>Ray Perception Sensor 3D</em> toe te voegen met de volgende eigenschappen (hier voor het links oog weergegeven).</p>
<table>
<thead>
<tr class="header">
<th>Eigenschap</th>
<th>Waarde</th>
<th>Uitleg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Sensor Name</code></td>
<td><code>LeftEye</code></td>
<td>Unieke naam is belangrijk</td>
</tr>
<tr class="even">
<td><code>Detecable Tag</code>s</td>
<td><code>2</code>: <code>Menhir</code> en <code>Destination</code></td>
<td>De objecten die Obelix kan zien</td>
</tr>
<tr class="odd">
<td><code>Rays Per Direction</code></td>
<td>6</td>
<td>Aantal stralen aan weerszijden van middellijn.</td>
</tr>
<tr class="even">
<td><code>Max Ray Degrees</code></td>
<td>30</td>
<td>Voor een zicht van 60° per oog.</td>
</tr>
<tr class="odd">
<td><code>Sphere Cast Radius</code></td>
<td>3.5</td>
<td>De dikte van elke straal</td>
</tr>
<tr class="even">
<td><code>Ray Length</code></td>
<td>260</td>
<td>Lengte van de stralen in <em>dm</em></td>
</tr>
<tr class="odd">
<td><code>Stacked Raycasts</code></td>
<td>1</td>
<td>Geheugen voor de sensor</td>
</tr>
<tr class="even">
<td><code>Start</code>/<code>End Vertical Offset</code></td>
<td>0/0</td>
<td>Naar boven of naar onder kijken</td>
</tr>
</tbody>
</table>
<p>Obelix krijgt dus een zicht van 120°. Hij zal zich dus moeten draaien om een volledig beeld te krijgen van zijn omgeving. De lengte van de stralen is zodanig gekozen dat hij van de ene hoek van het speelveld nog net een object in de tegenoverstaande hoek kan zien.</p>
<p>Doe hetzelfde voor het rechteroog (je kan de component eenvoudig kopiëren). Roteer nu de ogen +/-30° volgens de Y-as zoals getoond op Figuur <a href="obelix-de-menhirhouwer.html#fig:obelix-ray-perception">3.7</a> zodat er een zo breed mogelijk gezichtsveld benut wordt (dus geen overlap).</p>
<div class="figure"><span id="fig:obelix-ray-perception"></span>
<img src="img/obelix-ray-perception.png" alt="De Ray Perception Sensor 3D component in actie." width="692" />
<p class="caption">
Figuur 3.7: De <em>Ray Perception Sensor 3D</em> component in actie.
</p>
</div>

<blockquote>
<p>Er zijn ook andere componenten die van de betrokken <code>ISensor</code> interface overerven, namelijk <code>CameraSensorComponent</code> waarmee camerabeelden als pixel-matrices aan het NN worden doorgegeven of <code>RenderTextureSensorComponent</code> die de inhoude van zogenaamde <a href="https://docs.unity3d.com/Manual/class-RenderTexture.html"><em>Render Textures</em></a> als invoer gebruikt voor het NN.</p>
</blockquote>
<p>Voeg verder twee componenten toe aan Obelix: <em>Behavior Parameters</em> (het gedrag van de agent) en <em>Decision Requester</em>. (een automatische trigger om de agent te dwingen iets te doen). We zullen deze componenten waar nodig gaandeweg configureren.</p>
<p><img src="img/agent-componenten.png" /></p>
</div>
<div id="de-menhir-en-de-bestemming" class="section level3">
<h3><span class="header-section-number">3.5.3</span> De menhir en de bestemming</h3>
<p>De menhir en de bestemming prefabs worden eenvoudig geconstrueerd als kubussen met schaal {XYZ: 0.5, 2, 0.5} met een passende <em>Box Collider</em>. De verschillen tussen de <code>Menhir</code> prefab en de <code>Destination</code> prefab staan hieronder opgesomd:</p>
<div class="figure"><span id="fig:menhir-object"></span>
<img src="img/menhir-object.png" alt="De menhir bestaat uit een eenvoudige balk." width="171" />
<p class="caption">
Figuur 3.8: De menhir bestaat uit een eenvoudige balk.
</p>
</div>

<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Eigenschap</th>
<th>Menhir</th>
<th>Destination</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Rigidbody</code> component</td>
<td><code>Use Gravity</code> aan en <code>Freeze Rotation</code> voor de assen X en Z</td>
<td>Geen <code>Rigidbody</code> component.</td>
</tr>
<tr class="even">
<td>Startpositie (Y)</td>
<td>Boven het veld, valt bij opstart tot op speelveld</td>
<td>Rustend op het speelveld</td>
</tr>
<tr class="odd">
<td>Tag</td>
<td><code>Menhir</code></td>
<td><code>Destination</code></td>
</tr>
</tbody>
</table>
<p>Je kan ze natuurlijk best ook met een verschillend materiaal bekleden zodat ze gemakkelijk te onderscheiden zijn.</p>
<p>Tenslotte nog dit: maak een tag aan via de Unity GUI met de naam <code>MenhirInPlace</code>. Dit zal later gebruikt worden om aan te geven wanneer een menhir op zijn bestemming staat.</p>
</div>
<div id="scorebord" class="section level3">
<h3><span class="header-section-number">3.5.4</span> Scorebord</h3>
<p><img src="img/tmpro.png" /></p>
<p>Dit object met naam <code>ScoreBoard</code> is een instantie van de <code>TextMeshPro</code> klasse (3D-Object) dat de gecumuleerde beloning (eng: <em>cumulative reward</em>) zal weergeven. Hier wijzig je de eigenschappen naar keuze. Het is weliswaar handig als je de score kan lezen vanuit het perspectief van de <em>main camera</em>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="beginselen-ml-agents.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="gedragingen-van-de-agent-en-de-andere-spelobjecten.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ddhaese/vr-experience/03_Obelix.Rmd",
"text": "Bron"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
